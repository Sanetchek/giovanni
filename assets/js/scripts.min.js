!function(a){a(".gift-radio").on("change",function(){a(".gift-certificate__custom-amount").val(""),a(".gift-certificate__form-section").addClass("disabled"),a(".gift-certificate__next-step").prop("disabled",!1)}),a(".gift-certificate__custom-amount").on("input",function(){a(".gift-radio").prop("checked",!1),a(".gift-certificate__form-section").addClass("disabled"),a(".gift-certificate__next-step").prop("disabled",!1)}),a(".gift-certificate__next-step").on("click",function(e){e.preventDefault(),function(e){e=parseFloat(e);return!isNaN(e)&&50<=e&&e<=1e3}(a('input[name="giftAmount"]:checked').val()||a(".gift-certificate__custom-amount").val())?(a(".error-label").hide(),a(".gift-certificate__form-section").removeClass("disabled")):a(".error-label").show()}),a("#senderName, #reciverName, #reciverEmail, #reciverConfirmEmail").on("blur",function(){var e=a(this).closest(".form-group");a(this).val()?(a(this).removeClass("error"),a(e).find(".invalid-feedback").hide()):(a(this).addClass("error"),a(e).find(".invalid-feedback").show())}),a("#reciverConfirmEmail").on("input",function(){a("#reciverEmail").val().trim()!==a(this).val().trim()?a(".emailError").show():a(".emailError").hide()}),a("#gift_form").on("submit",function(e){e.preventDefault();var e=a("#senderName").val(),t=a("#reciverName").val(),o=a("#reciverEmail").val(),i=a("#message").val(),s=a('input[name="giftAmount"]:checked').val()||a(".gift-certificate__custom-amount").val();e&&t&&o&&s&&a.ajax({url:giovanni.ajax_url,type:"POST",data:{action:"add_gift_card_to_cart",giftAmount:s,senderName:e,reciverName:t,reciverEmail:o,message:i,_wpnonce:giovanni.gift_nonce},success:function(e){e.success?(a(document.body).trigger("wc_fragment_refresh"),setTimeout(()=>{a(".header-cart").trigger("click")},1e3),a("#gift_form")[0].reset(),a(".gift-certificate__form-section").addClass("disabled")):console.log("Failed to add gift card to cart.")},error:function(){console.log("Error:","An error occurred. Please try again.")}})})}(jQuery),function(n){function s(e,t){e=n(e);t?(n(".mega-menu").removeClass("is-show"),e.addClass("is-show")):e.removeClass("is-show")}function e(e,t){let o=".modal-overlay";function i(e,t,o){s(e,o),n(t).toggleClass("is-visible",o)}n(e).on("mouseenter",()=>i(t,o,!0)),n(e).on("mouseleave",()=>i(t,o,!1)),n(t).on("mouseenter",()=>i(t,o,!0)),n(t).on("mouseleave",()=>i(t,o,!1))}function t(e,t){n(e).on("click",e=>{e.preventDefault();e=n(t).hasClass("is-show");s(t,!e)})}function o(e){n(e).find(".mega-menu-header").on("click",()=>s(e,!1))}function i(){1024<n(window).width()?(n(".show-jewellery a").off("click"),n(".show-collection a").off("click"),n("#jewellery_menu").off("click"),n("#collection_menu").off("click"),e(".show-jewellery a","#jewellery_menu"),e(".show-collection a","#collection_menu"),e(".show-charms a","#charms_menu"),e(".show-gifts a","#gifts_menu"),e(".show-about a","#about_menu")):(n(".show-jewellery a").off("mouseenter mouseleave"),n(".show-collection a").off("mouseenter mouseleave"),n("#jewellery_menu").off("mouseenter mouseleave"),n("#collection_menu").off("mouseenter mouseleave"),n(".show-charms a").off("mouseenter mouseleave"),n(".show-about a").off("mouseenter mouseleave"),n(".show-gifts a").off("mouseenter mouseleave"),n("#charms_menu").off("mouseenter mouseleave"),n("#gifts_menu").off("mouseenter mouseleave"),n("#about_menu").off("mouseenter mouseleave"),t(".show-jewellery a","#jewellery_menu"),t(".show-collection a","#collection_menu"),t(".show-charms a","#charms_menu"),t(".show-gifts a","#gifts_menu"),t(".show-about a","#about_menu"),o("#jewellery_menu"),o("#collection_menu"),o("#charms_menu"),o("#gifts_menu"),o("#about_menu"))}n(document).ready(function(){i(),n(window).resize(i)}),n(".burger-menu").on("click",function(e){e.preventDefault(),n("body").toggleClass("is-block"),n(".main-navigation").toggleClass("is-show"),n(".main-navigation").removeClass("scroll-down")}),n(".header-cart").on("click",function(e){e.preventDefault(),n(".header-mini-cart").hasClass("is-show")?(n(".header-mini-cart").removeClass("is-show").addClass("is-hidden"),n(".modal-overlay").removeClass("is-visible")):(n(".header-mini-cart").removeClass("is-hidden").addClass("is-show"),n(".modal-overlay").addClass("is-visible"))}),n(".header-mini-cart-close, .modal-overlay").on("click",function(){n(".header-mini-cart").removeClass("is-show").addClass("is-hidden"),n(".modal-overlay").removeClass("is-visible")}),n(".show-login-form").on("click",function(e){e.preventDefault(),n("#login_modal").hasClass("is-show")?n("#login_modal").removeClass("is-show").addClass("is-hidden"):n("#login_modal").removeClass("is-hidden").addClass("is-show")}),n(".login-modal-close").on("click",function(e){e.preventDefault(),n("#login_modal").addClass("is-hidden").removeClass("is-show")}),n(window).width()<=768&&n("body").on("click",".js-accordion-trigger, .accordion-row h2",function(){var e=n(this).closest(".accordion-row"),t=e.next(".menu-footer-widget-1-container"),o=e.next(".menu-footer-widget-2-container"),i=e.next(".menu-footer-widget-3-container"),s=e.next(".menu-footer-widget-4-container"),a="true"===e.find(".js-accordion-trigger").attr("aria-expanded");e.find(".js-accordion-trigger").attr("aria-expanded",!a),t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),s.slideToggle(200),e.find(".toggle-icon.plus").toggle(a),e.find(".toggle-icon.minus").toggle(!a),e.toggleClass("active")});var a,r=0,l=n("body"),c=n("#masthead"),d=n(".main-navigation"),u=n(".site-header"),f=!1;n(window).on("scroll",function(){a=n(this).scrollTop(),f||(window.requestAnimationFrame(function(){var e;10<(e=a)?(c.addClass("is-sticky"),l.addClass("sticky-header")):(c.removeClass("is-sticky"),l.removeClass("sticky-header")),r<e?(u.addClass("notshowmenu"),d.addClass("hide")):(u.removeClass("notshowmenu"),d.removeClass("hide")),r=e,f=!1}),f=!0)})}(jQuery),document.querySelectorAll(".animation-label-container").forEach(e=>{var t=e.querySelector(".cta-text");t&&(t=[...new Intl.Segmenter("he",{granularity:"grapheme"}).segment(t.textContent)].length+3,e.style.setProperty("--char-count",t))}),function(o){o(".video-controls").click(function(){var e=o(this).siblings(".video-element")[0],t=o(this).closest(".video-container");e.paused?(e.play(),t.removeClass("stop").addClass("play")):(e.pause(),t.removeClass("play").addClass("stop"))})}(jQuery),function(a){let n=window.giovanni.ajax_url;a(".product-remove-like").on("click",function(){var e=a(this).closest(".product-card"),t=a(e).find(".post-review__like");a(t).click(),a(e).remove(),0===a(".product-card").length&&window.location.reload()}),a(".post-review__like").on("click",function(e){e.preventDefault();let t=a(this).attr("data-nonce"),o=a(this).find(".post-review__like-count"),i=a(this).find(".post-review__like-icon"),s=a(this).attr("data-post-id");a.ajax({url:n,type:"post",data:{post:s,nonce:t,num:a(o).text(),action:"process_simple_like"},success:function(e){e.count&&(t=e.count,t=parseInt(t),a(o).html(t));var t=e.icon;a(i).html(t),a(".header-like .header-count").html(e.total_likes)},error:function(e){console.log("error",e)}})})}(jQuery),function(t){var o=!1;function i(){return window.matchMedia("(max-width: 1068px)").matches}t(".mobile-about").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#about_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-charms").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#charms_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-collections").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#collections_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-jewellery").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#jewellery_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-gifts").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#gifts_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-accessories").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#accessories_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mega-menu-header").click(function(){var e;i()&&o&&(e=t(this).parent().parent()).animate({right:"-100%"},300,function(){e.css("display","none"),o=!1})})}(jQuery),jQuery(document).ready(function(e){let t=e("#modal_subscription"),o=e("#modal-subscribe-overlay");function i(){t.hide(),o.removeClass("is-visible")}var s,a;t.find(".modal-close").on("click",i),o.on("click",i),s=localStorage.getItem("modalLastShown"),a=(new Date).toDateString(),s&&s===a||setTimeout(()=>{t.show(),o.addClass("is-visible"),localStorage.setItem("modalLastShown",(new Date).toDateString())},1e4),e(".modal-subscribe-form input").on("input",function(){e(this).val()?e(".modal-privacy").css("opacity",1):e(".modal-privacy").css("opacity",0)})}),function(t){let o=window.giovanni.ajax_url;var i;t("#product-list").length&&(i=!0,t(window).scroll(function(){var e;t(document).scrollTop()>t(document).height()-2500&&i&&giovanni.current_page<giovanni.max_page&&(i=!1,e={action:"load_more_products",page:giovanni.current_page,formData:t("#product-filters").serialize(),category_id:giovanni.current_category_id||"",nonce:giovanni.product_filter_nonce},t.ajax({url:o,data:e,type:"POST",beforeSend:function(){i=!1,t("#page-loader").removeClass("hidden")},success:function(e){t("#product-list").append(e),giovanni.current_page++,i=!0,t("#page-loader").addClass("hidden")},error:function(){t("#page-loader").addClass("hidden")}}))})),t("#show-archive-text").on("click",function(){t(".archive-text-container").css({height:"auto",overflow:"visible"}),t(this).hide()}),t(".slick-slider-boxes").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,rows:0,centerMode:!0,centerPadding:"0px",draggable:!0,swipe:!0,rtl:!0,dots:!1,arrows:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:1}}]})}(jQuery),function(s){let t=window.giovanni.ajax_url;s(".btn-filter").on("click",function(e){e.preventDefault();e=s(this).closest(".filter-wrap"),e=s(e).find(".filter-dropdown");s(".filter-dropdown").slideUp(),s(e).is(":visible")?s(e).slideUp():s(e).slideDown()}),s(".filter-sort-item").on("click",function(e){e.preventDefault();var e=s(this).attr("data-sort"),t=s(this).closest(".filter-wrap"),o=s(t).find(".filter-sort-text"),t=s(t).find(".filter-dropdown");s("#sort").val(e),s(o).html(s(this).text()),s(t).slideUp(),s("#product-filters").submit()}),s(".filter-sort-item").on("click",function(e){e.preventDefault();var e=s(this).attr("data-sort"),t=s(this).closest(".filter-wrap"),o=s(t).find(".filter-sort-text"),t=s(t).find(".filter-dropdown");s("#sort").val(e),s(o).html(s(this).text()),s(t).slideUp(),setTimeout(()=>{s("#product-filters").submit()},500)}),s(".filter-checkbox").on("change",function(e){var t=s(this).closest(".filter-dropdown"),o=s(this).closest(".dropdown-filter-item"),o=s(o).find(".dropdown-filter-value").text(),i=s(this).attr("data-attr");s(this).is(":checked")?s("#filter_attr_list").prepend(`<button type="button" class="filter-value" data-attr="${i}">${o}</button>`):s(`#filter_attr_list .filter-value[data-attr="${i}"]`).remove(),s(t).slideUp(),s(".filter-attr.is-show").removeClass("is-show"),s("#product-filters").submit()}),s(document).on("click",".filter-value",function(){var e=s(this).attr("data-attr");s(`.filter-checkbox[data-attr="${e}"]`).prop("checked",!1),s(this).remove(),s("#product-filters").submit()}),s("#product-filters").on("submit",function(e){e.preventDefault(),giovanni.current_page=1;e=s(this).serialize();s.ajax({url:t,method:"POST",data:{action:"filter_products",formData:e,category_id:giovanni.current_category_id||"",nonce:giovanni.product_filter_nonce},beforeSend:function(){s("#product-list").addClass("blur")},success:function(e){s("#product-list").html(e),s("#product-list").removeClass("blur")},error:function(e){console.error("Error fetching products:",e)}})}),s(".open-filter").on("click",function(){s(".filter-attr").toggleClass("is-show")}),s(".mobile-header .reset.js-reset").on("click",function(){location.reload()}),s(".mobile-header .js-close-filters").on("click",function(){s(".open-filter").trigger("click")})}(jQuery),function(s){let a=window.giovanni.ajax_url;s(".product-share-btn").on("click",function(){s(".share-dropdown").toggle()}),s(".product-type-wgm_gift_card").length||s(".single_add_to_cart_button").on("click",function(e){e.preventDefault();var t=s(this),e=t.closest("form.cart"),o=t.val(),i=e.find("input[name=quantity]").val()||1,o={action:"woocommerce_ajax_add_to_cart",product_id:e.find("input[name=product_id]").val()||o,product_sku:"",quantity:i,variation_id:e.find("input[name=variation_id]").val()||0};return s(document.body).trigger("adding_to_cart",[t,o]),s.ajax({type:"post",url:a,data:o,beforeSend:function(e){t.removeClass("added").addClass("loading")},complete:function(e){t.addClass("added").removeClass("loading")},success:function(e){e.error&e.product_url?window.location=e.product_url:s(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,t])}}),!1})}(jQuery),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('ul[role="radiogroup"]').forEach(function(e){e.querySelectorAll("li").length<2&&(e.style.display="none")})}),jQuery(document).ready(function(r){function l(e,t){r(".form-message").remove(),r(".error").removeClass("error"),e?(r("#"+e).after('<p class="form-message error">'+t+"</p>"),r("#"+e).addClass("error")):r("#ajax-registration-form-submit").after('<p class="form-message error">'+t+"</p>")}r("#ajax-registration-form").on("submit",function(e){e.preventDefault();var e=r("#birth-date").val(),t=r("#email").val(),o=r("#confirm-email").val(),i=r("#password").val(),s=r("#confirm-password").val(),a=new Date,n=new Date(e);e&&(a<n||n.getFullYear()<1900)?l("birth-date","נא להזין תאריך לידה חוקי."):t!==o?l("confirm-email","המיילים אינם תואמים."):/^(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{8,}$/.test(i)?i!==s?l("confirm-password","הסיסמאות אינן תואמות."):r.ajax({url:giovanni.ajax_url,type:"POST",data:{action:"giovanni_register_user",nonce:giovanni.registration_nonce,formData:r(this).serialize()},success:function(e){e.success?(r("#ajax-registration-form")[0].reset(),r(".form-message").remove(),r("#ajax-registration-form-submit").after('<p class="form-message success">'+e.data.message+"</p>")):l(null,e.data.message)},error:function(){l(null,"There was an error processing the registration.")}}):l("password","הסיסמה חייבת להיות לפחות 8 תווים, לכלול אות אחת גדולה ותו מיוחד אחד.")}),r("#ajax-registration-form input[required]").on("focusout input",function(){var e=r(this).attr("id"),t=r(this).val().trim(),o=r("#"+e);t?(r("#"+e).next(".form-message.error").remove(),r(o).removeClass("error")):(t="אנא מלא שדה זה.",(e=r("#"+(e=e))).next(".form-message.error").length||e.after('<p class="form-message error">'+t+"</p>"),r(o).addClass("error"))})}),function(o){let i=window.giovanni.ajax_url;o(".header-search .icon-search").on("click",function(){o("form.header-form-search").fadeToggle(),o(".search-overlay-container").toggleClass("active"),o("body").toggleClass("no-scroll")});let e;o("#header_search").on("keyup",function(){clearTimeout(e),e=setTimeout(s,500),o(this).val()?o(".header-form-btns").fadeIn():o(".header-form-btns").fadeOut()}),o("#header_search").on("keydown",function(){clearTimeout(e)}),o("#header_search").on("focus",function(){0<o(this).val().length?o("#search_results").fadeIn():o("#search_results").fadeOut()}),o("#header_search").on("blur",function(){setTimeout(function(){o("#search_results").fadeOut()},200)}),o("#header_form_clear").on("click",function(e){e.preventDefault(),o("#header_search").val(""),o("#search_results").fadeOut().html(""),o(".header-form-btns").fadeOut()});let t;function s(){let e=o("#header_search").val().trim();0<e.length?(clearTimeout(t),t=setTimeout(function(){o.ajax({url:i,type:"POST",data:{action:"giovanni_search_suggestions",search:e,nonce:giovanni.search_nonce},success:function(e){o("#search_results").html(e).fadeIn()},error:function(e,t,o){console.log("AJAX Error: "+o)}})},300)):o("#search_results").fadeOut()}o("#header_search").on("input",s),o(".search-modal-close").on("click",function(){o("#search_modal").removeClass("is-show"),o("body").css("overflow-y","initial")}),o("#search_form_modal").on("submit",function(e){e.preventDefault();e=o(this).find("#search_modal").val();let t=o(this).find(".search-form-submit");o(".search-modal-error").hide(),0===e.length?o(".search-modal-error").text("אנא הזן את בקשתך").show():o.ajax({url:i,method:"GET",data:{action:"giovanni_search",s_modal:e,nonce:giovanni.search_nonce},beforeSend:function(e){t.addClass("is-loaded").prop("disabled",!0)},complete:function(e){t.removeClass("is-loaded").prop("disabled",!1)},success:function(e){o("#search_modal_content").html(e)},error:function(){o(".search-modal-error").show()}})})}(jQuery),function(n){var e=n(window).width();function t(){n(window).width()<=768?n(".customer-menu-links, .profile-navigation ul").hasClass("slick-initialized")||n(".customer-menu-links, .profile-navigation ul").slick({dots:!1,arrows:!1,infinite:!1,slidesToShow:5,slidesToScroll:1,rtl:!0,responsive:[{breakpoint:600,settings:{slidesToShow:4}},{breakpoint:500,settings:{slidesToShow:3}},{breakpoint:400,settings:{slidesToShow:2}}]}):n(".customer-menu-links").hasClass("slick-initialized")&&n(".customer-menu-links").slick("unslick")}n(".popular-product").each(function(){var e=n(this);let s=e.closest(".slider-container").find(".slide-indicator"),a=e.closest(".slider-container").find(".slide-total");e.on("init reInit afterChange",function(e,t,o,i){o=(o||0)+1,t=t.slideCount;s.text(o),a.text(t)}),e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:1,rtl:!1,prevArrow:e.closest(".slider-container").find(".slick-prev"),nextArrow:e.closest(".slider-container").find(".slick-next"),responsive:[{breakpoint:1279,settings:{slidesToShow:2}},{breakpoint:768,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}},{breakpoint:400,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0}}]})}),n(".article-slider-list").each(function(){var e=n(this);let s=e.closest(".article-slider").find(".slide-indicator"),a=e.closest(".article-slider").find(".slide-total");e.on("init reInit afterChange",function(e,t,o,i){o=(o||0)+1,t=t.slideCount;s.text(o),a.text(t)}),e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,rtl:!1,prevArrow:e.closest(".article-slider").find(".slick-prev"),nextArrow:e.closest(".article-slider").find(".slick-next")})}),e<=1024&&n(".product-gallery__wrapper").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,draggable:!1,rtl:!1}),n(".slider-main").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,draggable:!1,asNavFor:".slider-nav"}),n(".slider-nav").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".slider-main",infinite:!1,dots:!1,centerMode:!1,focusOnSelect:!0,arrows:!1,vertical:!0}),n(".show-product-modal").on("click",function(){n(".product-modal").addClass("is-show"),n(".product-modal-close").on("click",function(){n(".product-modal").removeClass("is-show"),n(this).off("click")})}),n(document).on("mousemove",".zoomable",function(e){var t=n(this),o=t.offset(),i=t.width(),s=t.height(),i=(t.css("transition","none"),(e.pageX-o.left)/i*100),e=(e.pageY-o.top)/s*100;t.css("background-position",i+`% ${e}%`)}),n(document).on("mouseleave",".zoomable",function(){n(this).css("transition","background-position 0.1s ease")}),t(),n(window).resize(function(){t()})}(jQuery),function(o){let t=o(".category-tabs a"),i=o(".tab-content");t.on("click",function(e){e.preventDefault(),t.removeClass("active"),i.removeClass("active"),o(this).addClass("active");e=o(this).attr("href");o(e).addClass("active")}),0<t.length&&(t.first().addClass("active"),i.first().addClass("active")),o(".tab-btn").on("click",function(){var e=o(this).closest(".tab-item"),t=o(e).find(".tab-content");o(".tab-item").removeClass("active"),o(".tab-content").slideUp(),t.is(":visible")||(t.slideDown(),o(e).addClass("active"))}),o(".tab-item").first().addClass("active"),o(".tab-item").first().find(".tab-content").slideDown()}(jQuery);