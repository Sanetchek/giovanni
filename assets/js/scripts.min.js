!function(n){n(".gift-radio").on("change",function(){n(".gift-certificate__custom-amount").val(""),n(".gift-certificate__form-section").addClass("disabled"),n(".gift-certificate__next-step").prop("disabled",!1)}),n(".gift-certificate__custom-amount").on("input",function(){n(".gift-radio").prop("checked",!1),n(".gift-certificate__form-section").addClass("disabled"),n(".gift-certificate__next-step").prop("disabled",!1)}),n(".gift-certificate__next-step").on("click",function(e){e.preventDefault(),function(e){e=parseFloat(e);return!isNaN(e)&&50<=e&&e<=1e3}(n('input[name="giftAmount"]:checked').val()||n(".gift-certificate__custom-amount").val())?(n(".error-label").hide(),n(".gift-certificate__form-section").removeClass("disabled")):n(".error-label").show()}),n("#senderName, #reciverName, #reciverEmail, #reciverConfirmEmail").on("blur",function(){var e=n(this).closest(".form-group");n(this).val()?(n(this).removeClass("error"),n(e).find(".invalid-feedback").hide()):(n(this).addClass("error"),n(e).find(".invalid-feedback").show())}),n("#reciverConfirmEmail").on("input",function(){n("#reciverEmail").val().trim()!==n(this).val().trim()?n(".emailError").show():n(".emailError").hide()}),n("#gift_form").on("submit",function(e){e.preventDefault(),console.log("giovanni:",giovanni);var e=n("#senderName").val(),o=n("#reciverName").val(),t=n("#reciverEmail").val(),i=n("#message").val(),a=n('input[name="giftAmount"]:checked').val()||n(".gift-certificate__custom-amount").val();console.log("Form data:",{senderName:e,reciverName:o,reciverEmail:t,selectedAmount:a}),e&&o&&t&&a&&(console.log("Ajax URL:",giovanni.ajax_url),console.log("Nonce:",giovanni.gift_nonce),n.ajax({url:giovanni.ajax_url,type:"POST",data:{action:"add_gift_card_to_cart",giftAmount:a,senderName:e,reciverName:o,reciverEmail:t,message:i,_wpnonce:giovanni.gift_nonce},success:function(e){console.log("AJAX success:",e),e.success?window.location.href="/cart":console.log("Failed to add gift card to cart.")},error:function(){console.log("Error:","An error occurred. Please try again.")}}))})}(jQuery),function(s){function a(e,o){e=s(e);o?(s(".mega-menu").removeClass("is-show"),e.addClass("is-show")):e.removeClass("is-show")}function e(e,o){let t=".modal-overlay";function i(e,o,t){a(e,t),s(o).toggleClass("is-visible",t)}s(e).on("mouseenter",()=>i(o,t,!0)),s(e).on("mouseleave",()=>i(o,t,!1)),s(o).on("mouseenter",()=>i(o,t,!0)),s(o).on("mouseleave",()=>i(o,t,!1))}function o(e,o){s(e).on("click",e=>{e.preventDefault();e=s(o).hasClass("is-show");a(o,!e)})}function t(e){s(e).find(".mega-menu-header").on("click",()=>a(e,!1))}function i(){1024<s(window).width()?(s(".show-jewellery a").off("click"),s(".show-collection a").off("click"),s("#jewellery_menu").off("click"),s("#collection_menu").off("click"),e(".show-jewellery a","#jewellery_menu"),e(".show-collection a","#collection_menu"),e(".show-charms a","#charms_menu"),e(".show-gifts a","#gifts_menu"),e(".show-about a","#about_menu")):(s(".show-jewellery a").off("mouseenter mouseleave"),s(".show-collection a").off("mouseenter mouseleave"),s("#jewellery_menu").off("mouseenter mouseleave"),s("#collection_menu").off("mouseenter mouseleave"),s(".show-charms a").off("mouseenter mouseleave"),s(".show-about a").off("mouseenter mouseleave"),s(".show-gifts a").off("mouseenter mouseleave"),s("#charms_menu").off("mouseenter mouseleave"),s("#gifts_menu").off("mouseenter mouseleave"),s("#about_menu").off("mouseenter mouseleave"),o(".show-jewellery a","#jewellery_menu"),o(".show-collection a","#collection_menu"),o(".show-charms a","#charms_menu"),o(".show-gifts a","#gifts_menu"),o(".show-about a","#about_menu"),t("#jewellery_menu"),t("#collection_menu"),t("#charms_menu"),t("#gifts_menu"),t("#about_menu"))}s(document).ready(function(){i(),s(window).resize(i)}),s(".burger-menu").on("click",function(e){e.preventDefault(),s("body").toggleClass("is-block"),s(".main-navigation").toggleClass("is-show"),s(".main-navigation").removeClass("scroll-down")}),s(".header-cart").on("click",function(e){e.preventDefault(),s(".header-mini-cart").hasClass("is-show")?s(".header-mini-cart").removeClass("is-show").addClass("is-hidden"):s(".header-mini-cart").removeClass("is-hidden").addClass("is-show")}),s(".header-mini-cart-close").on("click",function(){s(".header-mini-cart").removeClass("is-show").addClass("is-hidden")}),s(".show-login-form").on("click",function(e){e.preventDefault(),s("#login_modal").hasClass("is-show")?s("#login_modal").removeClass("is-show").addClass("is-hidden"):s("#login_modal").removeClass("is-hidden").addClass("is-show")}),s(".login-modal-close").on("click",function(e){e.preventDefault(),s("#login_modal").addClass("is-hidden").removeClass("is-show")}),s(window).width()<=768&&s(".js-accordion-trigger, .accordion-row h2").on("click",function(){var e=s(this).closest(".accordion-row"),o=e.next(".menu-footer-widget-1-container"),t=e.next(".menu-footer-widget-2-container"),i=e.next(".menu-footer-widget-3-container"),a=e.next(".menu-footer-widget-4-container"),n="true"===e.find(".js-accordion-trigger").attr("aria-expanded");e.find(".js-accordion-trigger").attr("aria-expanded",!n),o.slideToggle(200),t.slideToggle(200),i.slideToggle(200),a.slideToggle(200),e.find(".toggle-icon.plus").toggle(n),e.find(".toggle-icon.minus").toggle(!n),e.toggleClass("active")});var n,r=0,l=s("body"),c=s("#masthead"),d=s(".main-navigation"),u=s(".site-header"),f=!1;s(window).on("scroll",function(){n=s(this).scrollTop(),f||(window.requestAnimationFrame(function(){var e;10<(e=n)?(c.addClass("is-sticky"),l.addClass("sticky-header")):(c.removeClass("is-sticky"),l.removeClass("sticky-header")),r<e?(u.addClass("notshowmenu"),d.addClass("hide")):(u.removeClass("notshowmenu"),d.removeClass("hide")),r=e,f=!1}),f=!0)})}(jQuery),document.querySelectorAll(".animation-label-container").forEach(e=>{var o=e.querySelector(".cta-text");o&&(o=[...new Intl.Segmenter("he",{granularity:"grapheme"}).segment(o.textContent)].length+3,e.style.setProperty("--char-count",o))}),function(t){t(".video-controls").click(function(){var e=t(this).siblings(".video-element")[0],o=t(this).closest(".video-container");e.paused?(e.play(),o.removeClass("stop").addClass("play")):(e.pause(),o.removeClass("play").addClass("stop"))})}(jQuery),function(n){let s=window.giovanni.ajax_url;n(".product-remove-like").on("click",function(){var e=n(this).closest(".product-card"),o=n(e).find(".post-review__like");n(o).click(),n(e).remove(),0===n(".product-card").length&&window.location.reload()}),n(".post-review__like").on("click",function(e){e.preventDefault();let o=n(this).attr("data-nonce"),t=n(this).find(".post-review__like-count"),i=n(this).find(".post-review__like-icon"),a=n(this).attr("data-post-id");n.ajax({url:s,type:"post",data:{post:a,nonce:o,num:n(t).text(),action:"process_simple_like"},success:function(e){e.count&&(o=e.count,o=parseInt(o),n(t).html(o));var o=e.icon;n(i).html(o),n(".header-like .header-count").html(e.total_likes)},error:function(e){console.log("error",e)}})})}(jQuery),function(o){var t=!1;function i(){return window.matchMedia("(max-width: 1068px)").matches}o(".mobile-about").click(function(e){i()&&!t&&(e.preventDefault(),o(".mega-menu").removeClass("is-show"),(e=o("#about_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){t=!0}))}),o(".mobile-charms").click(function(e){i()&&!t&&(e.preventDefault(),o(".mega-menu").removeClass("is-show"),(e=o("#charms_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){t=!0}))}),o(".mobile-collections").click(function(e){i()&&!t&&(e.preventDefault(),o(".mega-menu").removeClass("is-show"),(e=o("#collections_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){t=!0}))}),o(".mobile-jewellery").click(function(e){i()&&!t&&(e.preventDefault(),o(".mega-menu").removeClass("is-show"),(e=o("#jewellery_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){t=!0}))}),o(".mobile-gifts").click(function(e){i()&&!t&&(e.preventDefault(),o(".mega-menu").removeClass("is-show"),(e=o("#gifts_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){t=!0}))}),o(".mobile-accessories").click(function(e){i()&&!t&&(e.preventDefault(),o(".mega-menu").removeClass("is-show"),(e=o("#accessories_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){t=!0}))}),o(".mega-menu-header").click(function(){var e;i()&&t&&(e=o(this).parent().parent()).animate({right:"-100%"},300,function(){e.css("display","none"),t=!1})})}(jQuery),jQuery(document).ready(function(e){let o=e("#modal_subscription"),t=e("#modal-subscribe-overlay");function i(){o.hide(),t.removeClass("is-visible")}var a,n;o.find(".modal-close").on("click",i),t.on("click",i),a=localStorage.getItem("modalLastShown"),n=(new Date).toDateString(),a&&a===n||setTimeout(()=>{o.show(),t.addClass("is-visible"),localStorage.setItem("modalLastShown",(new Date).toDateString())},1e4),e(".modal-subscribe-form input").on("input",function(){e(this).val()?e(".modal-privacy").css("opacity",1):e(".modal-privacy").css("opacity",0)})}),function(o){let t=window.giovanni.ajax_url;var i;o("#product-list").length&&(i=!0,o(window).scroll(function(){var e;o(document).scrollTop()>o(document).height()-2500&&i&&giovanni.current_page<giovanni.max_page&&(i=!1,e={action:"load_more_products",page:giovanni.current_page,formData:o("#product-filters").serialize(),category_id:giovanni.current_category_id||"",nonce:giovanni.product_filter_nonce},o.ajax({url:t,data:e,type:"POST",beforeSend:function(){i=!1,o("#page-loader").removeClass("hidden")},success:function(e){o("#product-list").append(e),giovanni.current_page++,i=!0,o("#page-loader").addClass("hidden")},error:function(){o("#page-loader").addClass("hidden")}}))})),o("#show-archive-text").on("click",function(){o(".archive-text-container").css({height:"auto",overflow:"visible"}),o(this).hide()}),o(".slick-slider-boxes").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,rows:0,centerMode:!0,centerPadding:"0px",draggable:!0,swipe:!0,rtl:!0,dots:!1,arrows:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:1}}]})}(jQuery),function(a){let o=window.giovanni.ajax_url;a(".btn-filter").on("click",function(e){e.preventDefault();e=a(this).closest(".filter-wrap"),e=a(e).find(".filter-dropdown");a(".filter-dropdown").slideUp(),a(e).is(":visible")?a(e).slideUp():a(e).slideDown()}),a(".filter-sort-item").on("click",function(e){e.preventDefault();var e=a(this).attr("data-sort"),o=a(this).closest(".filter-wrap"),t=a(o).find(".filter-sort-text"),o=a(o).find(".filter-dropdown");a("#sort").val(e),a(t).html(a(this).text()),a(o).slideUp(),a("#product-filters").submit()}),a(".filter-sort-item").on("click",function(e){e.preventDefault();var e=a(this).attr("data-sort"),o=a(this).closest(".filter-wrap"),t=a(o).find(".filter-sort-text"),o=a(o).find(".filter-dropdown");a("#sort").val(e),a(t).html(a(this).text()),a(o).slideUp(),setTimeout(()=>{a("#product-filters").submit()},500)}),a(".filter-checkbox").on("change",function(e){var o=a(this).closest(".filter-dropdown"),t=a(this).closest(".dropdown-filter-item"),t=a(t).find(".dropdown-filter-value").text(),i=a(this).attr("data-attr");a(this).is(":checked")?a("#filter_attr_list").prepend(`<button type="button" class="filter-value" data-attr="${i}">${t}</button>`):a(`#filter_attr_list .filter-value[data-attr="${i}"]`).remove(),a(o).slideUp(),a(".filter-attr.is-show").removeClass("is-show"),a("#product-filters").submit()}),a(document).on("click",".filter-value",function(){var e=a(this).attr("data-attr");a(`.filter-checkbox[data-attr="${e}"]`).prop("checked",!1),a(this).remove(),a("#product-filters").submit()}),a("#product-filters").on("submit",function(e){e.preventDefault(),giovanni.current_page=1;e=a(this).serialize();a.ajax({url:o,method:"POST",data:{action:"filter_products",formData:e,category_id:giovanni.current_category_id||"",nonce:giovanni.product_filter_nonce},beforeSend:function(){a("#product-list").addClass("blur")},success:function(e){a("#product-list").html(e),a("#product-list").removeClass("blur")},error:function(e){console.error("Error fetching products:",e)}})}),a(".open-filter").on("click",function(){a(".filter-attr").toggleClass("is-show")}),a(".mobile-header .reset.js-reset").on("click",function(){location.reload()}),a(".mobile-header .js-close-filters").on("click",function(){a(".open-filter").trigger("click")})}(jQuery),function(a){let n=window.giovanni.ajax_url;a(".product-share-btn").on("click",function(){a(".share-dropdown").toggle()}),a(".product-type-wgm_gift_card").length||a(".single_add_to_cart_button").on("click",function(e){e.preventDefault();var o=a(this),e=o.closest("form.cart"),t=o.val(),i=e.find("input[name=quantity]").val()||1,t={action:"woocommerce_ajax_add_to_cart",product_id:e.find("input[name=product_id]").val()||t,product_sku:"",quantity:i,variation_id:e.find("input[name=variation_id]").val()||0};return a(document.body).trigger("adding_to_cart",[o,t]),a.ajax({type:"post",url:n,data:t,beforeSend:function(e){o.removeClass("added").addClass("loading")},complete:function(e){o.addClass("added").removeClass("loading")},success:function(e){e.error&e.product_url?window.location=e.product_url:a(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,o])}}),!1})}(jQuery),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('ul[role="radiogroup"]').forEach(function(e){e.querySelectorAll("li").length<2&&(e.style.display="none")})}),jQuery(document).ready(function(r){function l(e,o){r(".form-message").remove(),r(".error").removeClass("error"),e?(r("#"+e).after('<p class="form-message error">'+o+"</p>"),r("#"+e).addClass("error")):r("#ajax-registration-form-submit").after('<p class="form-message error">'+o+"</p>")}r("#ajax-registration-form").on("submit",function(e){e.preventDefault();var e=r("#birth-date").val(),o=r("#email").val(),t=r("#confirm-email").val(),i=r("#password").val(),a=r("#confirm-password").val(),n=new Date,s=new Date(e);e&&(n<s||s.getFullYear()<1900)?l("birth-date","נא להזין תאריך לידה חוקי."):o!==t?l("confirm-email","המיילים אינם תואמים."):/^(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{8,}$/.test(i)?i!==a?l("confirm-password","הסיסמאות אינן תואמות."):r.ajax({url:giovanni.ajax_url,type:"POST",data:{action:"giovanni_register_user",nonce:giovanni.registration_nonce,formData:r(this).serialize()},success:function(e){e.success?(r("#ajax-registration-form")[0].reset(),r(".form-message").remove(),r("#ajax-registration-form-submit").after('<p class="form-message success">'+e.data.message+"</p>")):l(null,e.data.message)},error:function(){l(null,"There was an error processing the registration.")}}):l("password","הסיסמה חייבת להיות לפחות 8 תווים, לכלול אות אחת גדולה ותו מיוחד אחד.")}),r("#ajax-registration-form input[required]").on("focusout input",function(){var e=r(this).attr("id"),o=r(this).val().trim(),t=r("#"+e);o?(r("#"+e).next(".form-message.error").remove(),r(t).removeClass("error")):(o="אנא מלא שדה זה.",(e=r("#"+(e=e))).next(".form-message.error").length||e.after('<p class="form-message error">'+o+"</p>"),r(t).addClass("error"))})}),function(t){let i=window.giovanni.ajax_url;t(".header-search .icon-search").on("click",function(){t("form.header-form-search").fadeToggle(),t(".search-overlay-container").toggleClass("active"),t("body").toggleClass("no-scroll")});let e;t("#header_search").on("keyup",function(){clearTimeout(e),e=setTimeout(a,500),t(this).val()?t(".header-form-btns").fadeIn():t(".header-form-btns").fadeOut()}),t("#header_search").on("keydown",function(){clearTimeout(e)}),t("#header_search").on("focus",function(){0<t(this).val().length?t("#search_results").fadeIn():t("#search_results").fadeOut()}),t("#header_search").on("blur",function(){setTimeout(function(){t("#search_results").fadeOut()},200)}),t("#header_form_clear").on("click",function(e){e.preventDefault(),t("#header_search").val(""),t("#search_results").fadeOut().html(""),t(".header-form-btns").fadeOut()});let o;function a(){let e=t("#header_search").val().trim();0<e.length?(clearTimeout(o),o=setTimeout(function(){t.ajax({url:i,type:"POST",data:{action:"giovanni_search_suggestions",search:e,nonce:giovanni.search_nonce},success:function(e){t("#search_results").html(e).fadeIn()},error:function(e,o,t){console.log("AJAX Error: "+t)}})},300)):t("#search_results").fadeOut()}t("#header_search").on("input",a),t(".search-modal-close").on("click",function(){t("#search_modal").removeClass("is-show"),t("body").css("overflow-y","initial")}),t("#search_form_modal").on("submit",function(e){e.preventDefault();e=t(this).find("#search_modal").val();let o=t(this).find(".search-form-submit");t(".search-modal-error").hide(),0===e.length?t(".search-modal-error").text("אנא הזן את בקשתך").show():t.ajax({url:i,method:"GET",data:{action:"giovanni_search",s_modal:e,nonce:giovanni.search_nonce},beforeSend:function(e){o.addClass("is-loaded").prop("disabled",!0)},complete:function(e){o.removeClass("is-loaded").prop("disabled",!1)},success:function(e){t("#search_modal_content").html(e)},error:function(){t(".search-modal-error").show()}})})}(jQuery),function(s){var e=s(window).width();s(".popular-product").each(function(){var e=s(this);let a=e.closest(".slider-container").find(".slide-indicator"),n=e.closest(".slider-container").find(".slide-total");e.on("init reInit afterChange",function(e,o,t,i){t=(t||0)+1,o=o.slideCount;a.text(t),n.text(o)}),e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:1,rtl:!1,prevArrow:e.closest(".slider-container").find(".slick-prev"),nextArrow:e.closest(".slider-container").find(".slick-next"),responsive:[{breakpoint:1279,settings:{slidesToShow:2}},{breakpoint:768,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]})}),s(".article-slider-list").each(function(){var e=s(this);let a=e.closest(".article-slider").find(".slide-indicator"),n=e.closest(".article-slider").find(".slide-total");e.on("init reInit afterChange",function(e,o,t,i){t=(t||0)+1,o=o.slideCount;a.text(t),n.text(o)}),e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,rtl:!1,prevArrow:e.closest(".article-slider").find(".slick-prev"),nextArrow:e.closest(".article-slider").find(".slick-next")})}),e<=1024&&s(".product-gallery__wrapper").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,draggable:!1,rtl:!1}),s(".slider-main").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,draggable:!1,asNavFor:".slider-nav"}),s(".slider-nav").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".slider-main",infinite:!1,dots:!1,centerMode:!1,focusOnSelect:!0,arrows:!1,vertical:!0}),s(".show-product-modal").on("click",function(){s(".product-modal").addClass("is-show"),s(".product-modal-close").on("click",function(){s(".product-modal").removeClass("is-show"),s(this).off("click")})}),s(document).on("mousemove",".zoomable",function(e){var o=s(this),t=o.offset(),i=o.width(),a=o.height(),i=(o.css("transition","none"),(e.pageX-t.left)/i*100),e=(e.pageY-t.top)/a*100;o.css("background-position",i+`% ${e}%`)}),s(document).on("mouseleave",".zoomable",function(){s(this).css("transition","background-position 0.1s ease")})}(jQuery),function(t){let o=t(".category-tabs a"),i=t(".tab-content");o.on("click",function(e){e.preventDefault(),o.removeClass("active"),i.removeClass("active"),t(this).addClass("active");e=t(this).attr("href");t(e).addClass("active")}),0<o.length&&(o.first().addClass("active"),i.first().addClass("active")),t(".tab-btn").on("click",function(){var e=t(this).closest(".tab-item"),o=t(e).find(".tab-content");t(".tab-item").removeClass("active"),t(".tab-content").slideUp(),o.is(":visible")||(o.slideDown(),t(e).addClass("active"))}),t(".tab-item").first().addClass("active"),t(".tab-item").first().find(".tab-content").slideDown()}(jQuery);