!function(n){n(".gift-radio").on("change",function(){n(".gift-certificate__custom-amount").val(""),n(".gift-certificate__form-section").hide()}),n(".gift-certificate__custom-amount").on("input",function(){n(".gift-radio").prop("checked",!1),n(".gift-certificate__form-section").hide()}),n(".gift-certificate__next-step").on("click",function(e){e.preventDefault(),function(e){e=parseFloat(e);return!isNaN(e)&&50<=e&&e<=1e3}(n('input[name="giftAmount"]:checked').val()||n(".gift-certificate__custom-amount").val())?(n(".error-label").hide(),n(".gift-certificate__form-section").slideDown()):n(".error-label").show()}),n("#senderName, #reciverEmail, #message").on("blur",function(){var e=n(this).closest(".form-group");n(this).val()?(n(this).removeClass("error"),n(e).find(".invalid-feedback").hide()):(n(this).addClass("error"),n(e).find(".invalid-feedback").show())}),n("#gift_form").on("submit",function(e){e.preventDefault();var e=n("#senderName").val(),t=n("#reciverEmail").val(),o=n("#message").val(),i=n('input[name="giftAmount"]:checked').val()||n(".gift-certificate__custom-amount").val();e&&t&&i&&n.ajax({url:giovanni.ajax_url,type:"POST",data:{action:"add_gift_card_to_cart",giftAmount:i,senderName:e,reciverEmail:t,message:o,_wpnonce:giovanni.gift_nonce},success:function(e){e.success?window.location.href="/cart":console.log("Failed to add gift card to cart.")},error:function(){console.log("Error:","An error occurred. Please try again.")}})})}(jQuery),function(a){function n(e,t){e=a(e);t?(a(".mega-menu").removeClass("is-show"),e.addClass("is-show")):e.removeClass("is-show")}function e(e,t){let o=".modal-overlay";function i(e,t,o){n(e,o),a(t).toggleClass("is-visible",o)}a(e).on("mouseenter",()=>i(t,o,!0)),a(e).on("mouseleave",()=>i(t,o,!1)),a(t).on("mouseenter",()=>i(t,o,!0)),a(t).on("mouseleave",()=>i(t,o,!1))}function t(e,t){a(e).on("click",e=>{e.preventDefault();e=a(t).hasClass("is-show");n(t,!e)})}function o(e){a(e).find(".mega-menu-header").on("click",()=>n(e,!1))}function i(){1024<a(window).width()?(a(".show-jewellery a").off("click"),a(".show-collection a").off("click"),a("#jewellery_menu").off("click"),a("#collection_menu").off("click"),e(".show-jewellery a","#jewellery_menu"),e(".show-collection a","#collection_menu"),e(".show-charms a","#charms_menu"),e(".show-gifts a","#gifts_menu"),e(".show-about a","#about_menu")):(a(".show-jewellery a").off("mouseenter mouseleave"),a(".show-collection a").off("mouseenter mouseleave"),a("#jewellery_menu").off("mouseenter mouseleave"),a("#collection_menu").off("mouseenter mouseleave"),a(".show-charms a").off("mouseenter mouseleave"),a(".show-about a").off("mouseenter mouseleave"),a(".show-gifts a").off("mouseenter mouseleave"),a("#charms_menu").off("mouseenter mouseleave"),a("#gifts_menu").off("mouseenter mouseleave"),a("#about_menu").off("mouseenter mouseleave"),t(".show-jewellery a","#jewellery_menu"),t(".show-collection a","#collection_menu"),t(".show-charms a","#charms_menu"),t(".show-gifts a","#gifts_menu"),t(".show-about a","#about_menu"),o("#jewellery_menu"),o("#collection_menu"),o("#charms_menu"),o("#gifts_menu"),o("#about_menu"))}a(document).ready(function(){i(),a(window).resize(i)}),a(".burger-menu").on("click",function(e){e.preventDefault(),a("body").toggleClass("is-block"),a(".main-navigation").toggleClass("is-show"),a(".main-navigation").removeClass("scroll-down")}),a(".header-cart").on("click",function(e){e.preventDefault(),a(".header-mini-cart").hasClass("is-show")?a(".header-mini-cart").removeClass("is-show").addClass("is-hidden"):a(".header-mini-cart").removeClass("is-hidden").addClass("is-show")}),a(".header-mini-cart-close").on("click",function(){a(".header-mini-cart").removeClass("is-show").addClass("is-hidden")}),a(".show-login-form").on("click",function(e){e.preventDefault(),a("#login_modal").hasClass("is-show")?a("#login_modal").removeClass("is-show").addClass("is-hidden"):a("#login_modal").removeClass("is-hidden").addClass("is-show")}),a(".login-modal-close").on("click",function(e){e.preventDefault(),a("#login_modal").addClass("is-hidden").removeClass("is-show")}),a(window).width()<=768&&a(".js-accordion-trigger, .accordion-row h2").on("click",function(){var e=a(this).closest(".accordion-row"),t=e.next(".menu-footer-widget-1-container"),o=e.next(".menu-footer-widget-2-container"),i=e.next(".menu-footer-widget-3-container"),n=e.next(".menu-footer-widget-4-container"),s="true"===e.find(".js-accordion-trigger").attr("aria-expanded");e.find(".js-accordion-trigger").attr("aria-expanded",!s),t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),n.slideToggle(200),e.find(".toggle-icon.plus").toggle(s),e.find(".toggle-icon.minus").toggle(!s),e.toggleClass("active")});var s,r=0,l=a("body"),c=a("#masthead"),d=a(".main-navigation"),u=a(".site-header"),f=!1;a(window).on("scroll",function(){s=a(this).scrollTop(),f||(window.requestAnimationFrame(function(){var e;10<(e=s)?(c.addClass("is-sticky"),l.addClass("sticky-header")):(c.removeClass("is-sticky"),l.removeClass("sticky-header")),r<e?(u.addClass("notshowmenu"),d.addClass("hide")):(u.removeClass("notshowmenu"),d.removeClass("hide")),r=e,f=!1}),f=!0)})}(jQuery),document.querySelectorAll(".animation-label-container").forEach(e=>{var t=e.querySelector(".cta-text");t&&(t=[...new Intl.Segmenter("he",{granularity:"grapheme"}).segment(t.textContent)].length+3,e.style.setProperty("--char-count",t))}),function(o){o(".video-controls").click(function(){var e=o(this).siblings(".video-element")[0],t=o(this).closest(".video-container");e.paused?(e.play(),t.removeClass("stop").addClass("play")):(e.pause(),t.removeClass("play").addClass("stop"))})}(jQuery),function(s){let a=window.giovanni.ajax_url;s(".product-remove-like").on("click",function(){var e=s(this).closest(".product-card"),t=s(e).find(".post-review__like");s(t).click(),s(e).remove(),0===s(".product-card").length&&window.location.reload()}),s(".post-review__like").on("click",function(e){e.preventDefault();let t=s(this).attr("data-nonce"),o=s(this).find(".post-review__like-count"),i=s(this).find(".post-review__like-icon"),n=s(this).attr("data-post-id");s.ajax({url:a,type:"post",data:{post:n,nonce:t,num:s(o).text(),action:"process_simple_like"},success:function(e){e.count&&(t=e.count,t=parseInt(t),s(o).html(t));var t=e.icon;s(i).html(t),s(".header-like .header-count").html(e.total_likes)},error:function(e){console.log("error",e)}})})}(jQuery),function(t){var o=!1;function i(){return window.matchMedia("(max-width: 1068px)").matches}t(".mobile-about").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#about_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-charms").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#charms_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-collections").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#collections_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-jewellery").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#jewellery_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-gifts").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#gifts_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mobile-accessories").click(function(e){i()&&!o&&(e.preventDefault(),t(".mega-menu").removeClass("is-show"),(e=t("#accessories_menu_mobile")).css({display:"block",right:"-100%"}),e.animate({right:"0"},300,function(){o=!0}))}),t(".mega-menu-header").click(function(){var e;i()&&o&&(e=t(this).parent().parent()).animate({right:"-100%"},300,function(){e.css("display","none"),o=!1})})}(jQuery),function(t){let o=window.giovanni.ajax_url;var i;t("#product-list").length&&(i=!0,t(window).scroll(function(){var e;t(document).scrollTop()>t(document).height()-2500&&i&&giovanni.current_page<giovanni.max_page&&(i=!1,e={action:"load_more_products",page:giovanni.current_page,formData:t("#product-filters").serialize(),category_id:giovanni.current_category_id||"",nonce:giovanni.product_filter_nonce},t.ajax({url:o,data:e,type:"POST",beforeSend:function(){i=!1,t("#page-loader").removeClass("hidden")},success:function(e){t("#product-list").append(e),giovanni.current_page++,i=!0,t("#page-loader").addClass("hidden")},error:function(){t("#page-loader").addClass("hidden")}}))})),t("#show-archive-text").on("click",function(){t(".archive-text-container").css({height:"auto",overflow:"visible"}),t(this).hide()}),t(".slick-slider-boxes").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,rows:0,centerMode:!0,centerPadding:"0px",draggable:!0,swipe:!0,rtl:!0,dots:!1,arrows:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:1}}]})}(jQuery),function(n){let t=window.giovanni.ajax_url;n(".btn-filter").on("click",function(e){e.preventDefault();e=n(this).closest(".filter-wrap"),e=n(e).find(".filter-dropdown");n(".filter-dropdown").slideUp(),n(e).is(":visible")?n(e).slideUp():n(e).slideDown()}),n(".filter-sort-item").on("click",function(e){e.preventDefault();var e=n(this).attr("data-sort"),t=n(this).closest(".filter-wrap"),o=n(t).find(".filter-sort-text"),t=n(t).find(".filter-dropdown");n("#sort").val(e),n(o).html(n(this).text()),n(t).slideUp(),n("#product-filters").submit()}),n(".filter-sort-item").on("click",function(e){e.preventDefault();var e=n(this).attr("data-sort"),t=n(this).closest(".filter-wrap"),o=n(t).find(".filter-sort-text"),t=n(t).find(".filter-dropdown");n("#sort").val(e),n(o).html(n(this).text()),n(t).slideUp(),setTimeout(()=>{n("#product-filters").submit()},500)}),n(".filter-checkbox").on("change",function(e){var t=n(this).closest(".filter-dropdown"),o=n(this).closest(".dropdown-filter-item"),o=n(o).find(".dropdown-filter-value").text(),i=n(this).attr("data-attr");n(this).is(":checked")?n("#filter_attr_list").prepend(`<button type="button" class="filter-value" data-attr="${i}">${o}</button>`):n(`#filter_attr_list .filter-value[data-attr="${i}"]`).remove(),n(t).slideUp(),n(".filter-attr.is-show").removeClass("is-show"),n("#product-filters").submit()}),n(document).on("click",".filter-value",function(){var e=n(this).attr("data-attr");n(`.filter-checkbox[data-attr="${e}"]`).prop("checked",!1),n(this).remove(),n("#product-filters").submit()}),n("#product-filters").on("submit",function(e){e.preventDefault(),giovanni.current_page=1;e=n(this).serialize();n.ajax({url:t,method:"POST",data:{action:"filter_products",formData:e,category_id:giovanni.current_category_id||"",nonce:giovanni.product_filter_nonce},beforeSend:function(){n("#product-list").addClass("blur")},success:function(e){n("#product-list").html(e),n("#product-list").removeClass("blur")},error:function(e){console.error("Error fetching products:",e)}})}),n(".open-filter").on("click",function(){n(".filter-attr").toggleClass("is-show")}),n(".mobile-header .reset.js-reset").on("click",function(){location.reload()}),n(".mobile-header .js-close-filters").on("click",function(){n(".open-filter").trigger("click")})}(jQuery),function(n){let s=window.giovanni.ajax_url;n(".product-share-btn").on("click",function(){n(".share-dropdown").toggle()}),n(".product-type-wgm_gift_card").length||n(".single_add_to_cart_button").on("click",function(e){e.preventDefault();var t=n(this),e=t.closest("form.cart"),o=t.val(),i=e.find("input[name=quantity]").val()||1,o={action:"woocommerce_ajax_add_to_cart",product_id:e.find("input[name=product_id]").val()||o,product_sku:"",quantity:i,variation_id:e.find("input[name=variation_id]").val()||0};return n(document.body).trigger("adding_to_cart",[t,o]),n.ajax({type:"post",url:s,data:o,beforeSend:function(e){t.removeClass("added").addClass("loading")},complete:function(e){t.addClass("added").removeClass("loading")},success:function(e){e.error&e.product_url?window.location=e.product_url:n(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,t])}}),!1})}(jQuery),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('ul[role="radiogroup"]').forEach(function(e){e.querySelectorAll("li").length<2&&(e.style.display="none")})}),jQuery(document).ready(function(r){function l(e,t){r(".form-message").remove(),r(".error").removeClass("error"),e?(r("#"+e).after('<p class="form-message error">'+t+"</p>"),r("#"+e).addClass("error")):r("#ajax-registration-form-submit").after('<p class="form-message error">'+t+"</p>")}r("#ajax-registration-form").on("submit",function(e){e.preventDefault();var e=r("#birth-date").val(),t=r("#email").val(),o=r("#confirm-email").val(),i=r("#password").val(),n=r("#confirm-password").val(),s=new Date,a=new Date(e);e&&(s<a||a.getFullYear()<1900)?l("birth-date","נא להזין תאריך לידה חוקי."):t!==o?l("confirm-email","המיילים אינם תואמים."):/^(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{8,}$/.test(i)?i!==n?l("confirm-password","הסיסמאות אינן תואמות."):r.ajax({url:giovanni.ajax_url,type:"POST",data:{action:"giovanni_register_user",nonce:giovanni.registration_nonce,formData:r(this).serialize()},success:function(e){e.success?(r("#ajax-registration-form")[0].reset(),r(".form-message").remove(),r("#ajax-registration-form-submit").after('<p class="form-message success">'+e.data.message+"</p>")):l(null,e.data.message)},error:function(){l(null,"There was an error processing the registration.")}}):l("password","הסיסמה חייבת להיות לפחות 8 תווים, לכלול אות אחת גדולה ותו מיוחד אחד.")}),r("#ajax-registration-form input[required]").on("focusout input",function(){var e=r(this).attr("id"),t=r(this).val().trim(),o=r("#"+e);t?(r("#"+e).next(".form-message.error").remove(),r(o).removeClass("error")):(t="אנא מלא שדה זה.",(e=r("#"+(e=e))).next(".form-message.error").length||e.after('<p class="form-message error">'+t+"</p>"),r(o).addClass("error"))})}),function(o){let i=window.giovanni.ajax_url;o(".header-search .icon-search").on("click",function(){o("form.header-form-search").fadeToggle(),o(".search-overlay-container").toggleClass("active"),o("body").toggleClass("no-scroll")});let e;o("#header_search").on("keyup",function(){clearTimeout(e),e=setTimeout(n,500),o(this).val()?o(".header-form-btns").fadeIn():o(".header-form-btns").fadeOut()}),o("#header_search").on("keydown",function(){clearTimeout(e)}),o("#header_search").on("focus",function(){0<o(this).val().length?o("#search_results").fadeIn():o("#search_results").fadeOut()}),o("#header_search").on("blur",function(){setTimeout(function(){o("#search_results").fadeOut()},200)}),o("#header_form_clear").on("click",function(e){e.preventDefault(),o("#header_search").val(""),o("#search_results").fadeOut().html(""),o(".header-form-btns").fadeOut()});let t;function n(){let e=o("#header_search").val().trim();0<e.length?(clearTimeout(t),t=setTimeout(function(){o.ajax({url:i,type:"POST",data:{action:"giovanni_search_suggestions",search:e,nonce:giovanni.search_nonce},success:function(e){o("#search_results").html(e).fadeIn()},error:function(e,t,o){console.log("AJAX Error: "+o)}})},300)):o("#search_results").fadeOut()}o("#header_search").on("input",n),o(".search-modal-close").on("click",function(){o("#search_modal").removeClass("is-show"),o("body").css("overflow-y","initial")}),o("#search_form_modal").on("submit",function(e){e.preventDefault();e=o(this).find("#search_modal").val();let t=o(this).find(".search-form-submit");o(".search-modal-error").hide(),0===e.length?o(".search-modal-error").text("אנא הזן את בקשתך").show():o.ajax({url:i,method:"GET",data:{action:"giovanni_search",s_modal:e,nonce:giovanni.search_nonce},beforeSend:function(e){t.addClass("is-loaded").prop("disabled",!0)},complete:function(e){t.removeClass("is-loaded").prop("disabled",!1)},success:function(e){o("#search_modal_content").html(e)},error:function(){o(".search-modal-error").show()}})})}(jQuery),function(a){var e=a(window).width();a(".popular-product").each(function(){var e=a(this);let n=e.closest(".slider-container").find(".slide-indicator"),s=e.closest(".slider-container").find(".slide-total");e.on("init reInit afterChange",function(e,t,o,i){o=(o||0)+1,t=t.slideCount;n.text(o),s.text(t)}),e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:1,rtl:!1,prevArrow:e.closest(".slider-container").find(".slick-prev"),nextArrow:e.closest(".slider-container").find(".slick-next"),responsive:[{breakpoint:1279,settings:{slidesToShow:2}},{breakpoint:768,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]})}),a(".article-slider-list").each(function(){var e=a(this);let n=e.closest(".article-slider").find(".slide-indicator"),s=e.closest(".article-slider").find(".slide-total");e.on("init reInit afterChange",function(e,t,o,i){o=(o||0)+1,t=t.slideCount;n.text(o),s.text(t)}),e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,rtl:!1,prevArrow:e.closest(".article-slider").find(".slick-prev"),nextArrow:e.closest(".article-slider").find(".slick-next")})}),e<=1024&&a(".product-gallery__wrapper").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,draggable:!1,rtl:!1}),a(".slider-main").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,draggable:!1,asNavFor:".slider-nav"}),a(".slider-nav").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".slider-main",infinite:!1,dots:!1,centerMode:!1,focusOnSelect:!0,arrows:!1,vertical:!0}),a(".show-product-modal").on("click",function(){a(".product-modal").addClass("is-show"),a(".product-modal-close").on("click",function(){a(".product-modal").removeClass("is-show"),a(this).off("click")})}),a(document).on("mousemove",".zoomable",function(e){var t=a(this),o=t.offset(),i=t.width(),n=t.height(),i=(t.css("transition","none"),(e.pageX-o.left)/i*100),e=(e.pageY-o.top)/n*100;t.css("background-position",i+`% ${e}%`)}),a(document).on("mouseleave",".zoomable",function(){a(this).css("transition","background-position 0.1s ease")})}(jQuery),function(o){let t=o(".category-tabs a"),i=o(".tab-content");t.on("click",function(e){e.preventDefault(),t.removeClass("active"),i.removeClass("active"),o(this).addClass("active");e=o(this).attr("href");o(e).addClass("active")}),0<t.length&&(t.first().addClass("active"),i.first().addClass("active")),o(".tab-btn").on("click",function(){var e=o(this).closest(".tab-item"),t=o(e).find(".tab-content");o(".tab-item").removeClass("active"),o(".tab-content").slideUp(),t.is(":visible")||(t.slideDown(),o(e).addClass("active"))}),o(".tab-item").first().addClass("active"),o(".tab-item").first().find(".tab-content").slideDown()}(jQuery);