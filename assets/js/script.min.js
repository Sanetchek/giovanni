!function(a){let i=window.giovanni.ajax_url;var o,e=a(window).width();a(".popular-product").each(function(){var e=a(this);let i=e.closest(".slider-container").find(".slide-indicator"),s=e.closest(".slider-container").find(".slide-total");e.on("init reInit afterChange",function(e,o,n,t){n=(n||0)+1,o=o.slideCount;i.text(n),s.text(o)}),e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:1,rtl:!1,prevArrow:e.closest(".slider-container").find(".slick-prev"),nextArrow:e.closest(".slider-container").find(".slick-next"),responsive:[{breakpoint:1279,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]})}),e<=1024&&a(".product-gallery__wrapper").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,draggable:!1,rtl:!1}),a(".slider-main").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".slider-nav"}),a(".slider-nav").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".slider-main",infinite:!1,dots:!1,centerMode:!1,focusOnSelect:!0,arrows:!1,vertical:!0});let n=!1,t=a(".slider-main img"),s,l,r,c,d,u,p=1;function h(e){p*=e,t.css("transform",`scale(${p})`)}function m(e,o){e=a(e);o?(a(".mega-menu").removeClass("is-show"),e.addClass("is-show")):e.removeClass("is-show")}function f(e,o){a(e).on("mouseenter",()=>m(o,!0)),a(e).on("mouseleave",()=>m(o,!1)),a(o).on("mouseenter",()=>m(o,!0)),a(o).on("mouseleave",()=>m(o,!1))}function g(e,o){a(e).on("click",e=>{e.preventDefault();e=a(o).hasClass("is-show");m(o,!e)})}function v(e){a(e).find(".mega-menu-header").on("click",()=>m(e,!1))}function w(){1024<a(window).width()?(a(".show-jewellery a").off("click"),a(".show-collection a").off("click"),a("#jewellery_menu").off("click"),a("#collection_menu").off("click"),f(".show-jewellery a","#jewellery_menu"),f(".show-collection a","#collection_menu")):(a(".show-jewellery a").off("mouseenter mouseleave"),a(".show-collection a").off("mouseenter mouseleave"),a("#jewellery_menu").off("mouseenter mouseleave"),a("#collection_menu").off("mouseenter mouseleave"),g(".show-jewellery a","#jewellery_menu"),g(".show-collection a","#collection_menu"),v("#jewellery_menu"),v("#collection_menu"))}if(a(".slider-main .product-modal__image").on("mousedown touchstart",function(e){n=!0,s=e.pageX||e.originalEvent.touches[0].pageX,l=e.pageY||e.originalEvent.touches[0].pageY,r=parseInt(t.css("left")),c=parseInt(t.css("top")),a(".slider-main").css("cursor","grabbing")}),a(document).on("mousemove touchmove",function(e){var o;n&&(o=(e.pageX||e.originalEvent.touches[0].pageX)-s,e=(e.pageY||e.originalEvent.touches[0].pageY)-l,t.css({left:r+o+"px",top:c+e+"px"}))}),a(document).on("mouseup touchend",function(){n=!1,a(".slider-main").css("cursor","grab")}),a(".slider-main .product-modal__image").on("wheel",function(e){e.preventDefault(),h(e.originalEvent.deltaY<0?1.1:.9)}),a(".slider-main .product-modal__image").on("touchmove",function(e){var o;2==e.touches.length&&(e.preventDefault(),o=e.touches[0],e=e.touches[1],e=Math.sqrt(Math.pow(e.pageX-o.pageX,2)+Math.pow(e.pageY-o.pageY,2)),d||(d=t.width(),u=t.height()),h(e/(r=r||e)))}),a(".show-product-modal").on("click",function(){a(".product-modal").addClass("is-show"),a(".product-modal-close").on("click",function(){a(".product-modal").removeClass("is-show"),a(this).off("click")})}),a(document).ready(function(){w(),a(window).resize(w)}),a(".burger-menu").on("click",function(e){e.preventDefault(),a("body").toggleClass("is-block"),a(".main-navigation").toggleClass("is-show")}),a(".post-review__like").on("click",function(){let e=a(this).attr("data-nonce"),n=a(this).find(".post-review__like-count"),t=a(this).find(".post-review__like-icon"),o=a(this).attr("data-post-id");a.ajax({url:i,type:"post",data:{post:o,nonce:e,num:a(n).text(),action:"process_simple_like"},success:function(e){e.count&&(o=e.count,o=parseInt(o),a(n).html(o));var o=e.icon;a(t).html(o),a(".header-like .header-count").html(e.total_likes)},error:function(e){console.log("error",e)}})}),a("#product-list").length&&(o=!0,a(window).scroll(function(){var e;a(document).scrollTop()>a(document).height()-1500&&1==o&&giovanni.current_page<giovanni.max_page&&(o=!1,e={action:"load_more_products",page:giovanni.current_page},a.ajax({url:i,data:e,type:"POST",beforeSend:function(e){o=!1,a("#page-loader").removeClass("hidden")},success:function(e){e&&(a("#product-list").append(e),giovanni.current_page++,o=!0,a("#page-loader").addClass("hidden"),e=giovanni.siteurl+"/page/"+giovanni.current_page,history.pushState(null,null,e))}}))})),a("#show-archive-text").on("click",function(){a(".archive-text-container").css({height:"auto",overflow:"visible"}),a(this).hide()}),a(".open-filter").on("click",function(){a(".products-filter-container").toggleClass("is-show")}),1024<e){let e=a(".product-summary"),o=a(".product-summary-content");o.length&&e.length&&a(window).on("scroll",()=>{_(o,e)})}let _=(e,o)=>{var n=a(window).scrollTop(),t=o.offset().top,o=o.height(),i=t+o,s=e.outerHeight(!0);t<n?n+s<i?k(e):C(e,o,s):y(e)},k=e=>{e.css({position:"fixed",top:"50px","z-index":"9"})},C=(e,o,n)=>{e.css({position:"absolute",top:o-n+"px","z-index":"9"})},y=e=>{e.css({position:"",top:""})};a(".header-cart").on("click",function(e){e.preventDefault(),a(".header-mini-cart").hasClass("is-show")?a(".header-mini-cart").removeClass("is-show").addClass("is-hidden"):a(".header-mini-cart").removeClass("is-hidden").addClass("is-show")}),a(".header-mini-cart-close").on("click",function(){a(".header-mini-cart").removeClass("is-show").addClass("is-hidden")}),a(".product-share-btn").on("click",function(){a(".share-dropdown").toggle()}),a(".single_add_to_cart_button").on("click",function(e){e.preventDefault();var o=a(this),e=o.closest("form.cart"),n=o.val(),t=e.find("input[name=quantity]").val()||1,n={action:"woocommerce_ajax_add_to_cart",product_id:e.find("input[name=product_id]").val()||n,product_sku:"",quantity:t,variation_id:e.find("input[name=variation_id]").val()||0};return a(document.body).trigger("adding_to_cart",[o,n]),a.ajax({type:"post",url:i,data:n,beforeSend:function(e){o.removeClass("added").addClass("loading")},complete:function(e){o.addClass("added").removeClass("loading")},success:function(e){e.error&e.product_url?window.location=e.product_url:a(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,o])}}),!1}),a(".video-controls").click(function(){var e=a(this).siblings(".video-element")[0],o=a(this).closest(".video-container");e.paused?(e.play(),o.removeClass("stop").addClass("play")):(e.pause(),o.removeClass("play").addClass("stop"))})}(jQuery);